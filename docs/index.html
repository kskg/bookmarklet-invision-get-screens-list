<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <title>InVision Screens List Bookmarklet</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
</head>

<body>
    <p>Drag and drop the link to the Browser's bookmark bar.</p>
    <p><a href='javascript:(function(d,h){h=document.createElement("script");h.src="//ajax.googleapis.com/ajax/libs/jquery/2.2.4/jquery.min.js";h.onload=function(){d(jQuery.noConflict(!0))};document.body.appendChild(h)})(function(d){function h(){var b=[],a=d(".project-name").text().replace(/(^\s+)|(\s+$)/g,"");b.push({type:"project_name",title:a});var c=location.href.replace(/\/d\/main.*/,""),f=d(".ng-scope .screens-group");for(a={$jscomp$loop$prop$i$1:1};a.$jscomp$loop$prop$i$1<f.length;a={$jscomp$loop$prop$i$1:a.$jscomp$loop$prop$i$1},a.$jscomp$loop$prop$i$1++)d(f[a.$jscomp$loop$prop$i$1]).children("div").each(function(g){return function(){var e=d(this).attr("class");"divider"==e?b.push({type:"divider",title:d(f[g.$jscomp$loop$prop$i$1]).find(".divider_label").text().replace(/ \d+$/,"")}):"screen grid"==e&&b.push({type:"screen",title:d(this).find(".screen-name").text(),url:c+d(this).find(".view-screen-wrap a").attr("href")})}}(a));return b}function l(b){for(var a="",c=0;c<b.length;c++){var f=b[c].type;"project_name"==f?a+="# "+b[c].title+"\n\n":"divider"==f?a+="## "+b[c].title+"\n\n":"screen"==f&&(a+=""+b[c].title+"\n",a+=""+b[c].url+"\n\n")}return a="---\n\n"+a.replace(/(^\s+)|(\s+$)/,"")+"\n\n---"}(function(){var b=location.href;var a="";b.match(/projects.invisionapp.com\/.*\/projects\/prototypes\/\d+$/)?a="Project":b.match(/projects.invisionapp.com\/share\/.*screens.*\?browse$/)&&(a="Share");b=a;var c=[];a="";try{if("Project"==b)c=h(),a=l(c);else if("Share"==b){c=[];for(var f=location.href.replace(/([^/]+?)?$/,""),g=d(".screens .ng-scope>div"),e=1;e<g.length;e++){var k=d(g[e]).attr("class");"header"==k?c.push({type:"project_name",title:d(g[e]).find(".ng-binding").text().replace(/(^\s+)|(\s+$)/g,"")}):"divider"==k?c.push({type:"divider",title:d(g[e]).find(".divider .title").text()}):"screenObj"==k&&c.push({type:"screen",title:d(g[e]).find(".name-container .name").text().replace(/(^\s+)|(\s+$)/g,""),url:f+d(g[e]).find(".thumbnail-viewport img").attr("src").match(/(\d*).png/)[1]})}a=l(c)}else throw"Error";window.prompt("InVision "+b+" Screens List",a)}catch(m){alert("Please run it at the following URL.\n\n- https://projects.invisionapp.com/d/main#/projects/prototypes/[Project ID]\n- https://projects.invisionapp.com/share/[Share ID]#/screens?browse")}})()});'>InVision Get Screens List</a></p>
</body>

</html>